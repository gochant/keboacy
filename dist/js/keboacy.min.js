!function(a,b){b(["jquery","kendo-ui"],a)}(function(a,b){"use strict";!function(){b.data.binders.date=b.data.Binder.extend({init:function(c,d,e){b.data.Binder.fn.init.call(this,c,d,e),this._change=a.proxy(this.change,this),a(this.element).on("change",this._change)},refresh:function(){var c,d=this.bindings.date.get();if(d){"string"==typeof d&&(d=b.parseDate(d));var e=a(this.element).data("format")||b._extractFormat("yyyy/MM/dd");c=b.toString(d,e)}else c="";"value"in this.element?this.element.value=c:this.element.innerHTML=c},change:function(){var a=this.element.value;this.bindings.date.set(a)}})}(),function(){var c=b.data.DataSource,d=b.data.HierarchicalDataSource,e=a.extend,f=a.each,g=a.ajax,h=b.data.ObservableObject,i=d.extend({init:function(b){null==b.api||a.isEmptyObject(b.api)||(b.transport=e(!0,{},b.transport,b.api)),c.fn.init.call(this,e(!0,{},b)),this._customMethods()},options:{name:"ApiDataSource"},_customMethods:function(){var a=this;f(this.options.api,function(b,c){a[b+"Api"]=function(a){return this._accessApi(b,a)}})},submitForm:function(b,c,d){var e=a.Deferred(),d=this.transport.setup(d,b);return c.ajaxSubmit(a.extend({success:function(a){e.resolve(a)},error:function(a){e.reject(a)}},d,{method:c.prop("method")||"post",contentType:c.prop("enctype")||"multipart/form-data"})),e.promise()},_accessApi:function(a,b){return g(this.transport.setup(b,a))}});b.data.BackendApiDataObject=h.extend({init:function(a){a||(a={}),a.data||(a.value={}),this._initDataSource(a),this._initData(),this._bindEvents()},_initDataSource:function(b){null==b.data||a.isArray(b.data)||(b.data=[b.data]),null==b.schema&&(b.schema={});var c=function(b,c){var d=b;return null!=c&&(d=b[c]),a.isArray(d)?d:[d]};if(null==b.schema.data)b.schema.data=c;else if("string"==typeof b.schema.data){var d=b.schema.data;b.schema.data=function(a){return c.call(this,a,d)}}else{var e=b.schema.data;b.schema.data=function(a){var b=e.call(this,a);return c.call(this,b)}}this._dataSource=new i(b)},_bindEvents:function(){var b=this,c=this._dataSource;c.bind("change",function(d){if(!d.action){var e=c.at(0).toJSON();a.each(e,function(a,c){b.set(a,c)})}})},_initData:function(){var a=this._dataSource.at(0);null==a&&(a={}),this.reset(a)},read:function(a){return this._dataSource.read(a)},data:function(a){return this._dataSource.data(a)},reset:function(a){h.fn.init.call(this,a),this.trigger("reset",{value:a})},shouldSerialize:function(a){var b=h.fn.shouldSerialize.call(this,a),c=["_dataSource"];return b&&c.indexOf(a)<0},dataSource:function(){return this._dataSource},_backOptions:function(b){return b=a.extend(!0,{data:this.toJSON()},b)},create:function(a){return this.dataSource().createApi(this._backOptions())},update:function(a){return this.dataSource().updateApi(this._backOptions())},remove:function(a){return this.dataSource().removeApi(this._backOptions())}}),b.data.BackendApiDataSource=i}(),function(){var c=(b.data.Binder,b.data.binders);c.widget.checkboxlist={value:c.widget.multiselect.value};var d=".kendoCheckBoxList",e=b.ui.DataBoundWidget.extend({options:{name:"CheckBoxList",valuePrimitive:!0,dataSource:null,dataTextField:"text",dataValueField:"value",dataValueType:"string",orientation:"vertical"},events:["dataBound","select"],dataSource:null,init:function(a,c){b.ui.Widget.fn.init.call(this,a,c),this._dataSource(),this.dataSource.fetch(),this.element.on("click"+d,".k-checkbox-label",{sender:this},this._onCheckBoxSelected)},destroy:function(){a(this.element).off(d),b.ui.Widget.fn.destroy.call(this)},_dataSource:function(){var c=this.options.dataSource;c=a.isArray(c)?{data:c}:c,this.dataSource&&this._refreshHandler?this.dataSource.unbind("change",this._refreshHandler):this._refreshHandler=a.proxy(this.refresh,this),this.dataSource=b.data.DataSource.create(c).bind("change",this._refreshHandler)},_template:function(){var a=b.format("<div class='k-ext-checkbox-item {2}' data-uid='#: uid #' data-value='#: {0} #' data-text='#: {1} #'><input type='checkbox' value='#: {0} #' class='k-checkbox' data-type='{3}' /><label class='k-checkbox-label'>#: {1} #</label></div>",this.options.dataValueField,this.options.dataTextField,"vertical"===this.options.orientation?"checkbox":"checkbox-inline",this.options.dataValueType);return b.template(a)},_onCheckBoxSelected:function(b){var c=a(this),d=c.closest(".k-ext-checkbox-item"),e=b.data.sender,f=d.find(".k-checkbox").is(":checked");c.prev(".k-checkbox").prop("checked",!f).addClass("k-state-selected");var g=d.attr("data-uid");e.trigger("change",{item:e.dataSource.getByUid(g),checked:!f})},setDataSource:function(a){this.options.dataSource=a,this._dataSource(),this.dataSource.fetch()},refresh:function(a){var b=this._template(),c=this.dataSource.view(),d=this.value();this.element.empty();for(var e=0;e<c.length;e++)this.element.append(b(c[e]));this.value(d)},items:function(){return this.element.children()},dataItems:function(){var b=this.dataSource,c=[],d=this.element.find(".k-checkbox:checked").closest(".k-ext-checkbox-item");return a.each(d,function(){var d=a(this).attr("data-uid");c.push(b.getByUid(d))}),c},value:function(c){if(null==c){var d=[],e=this.element.find(".k-checkbox:checked").closest(".k-ext-checkbox-item");return a.each(e,function(){var b=a(this).attr("data-value");d.push(b)}),d}var f=this,d=a.isArray(c)?c:"string"==typeof c?[c]:[];this.element.find(".k-checkbox").prop("checked",!1).removeClass("k-state-selected"),a.each(d,function(a,c){f.element.find(b.format(".k-ext-checkbox-item[data-value='{0}'] .k-checkbox",c)).click()})}});b.ui.plugin(e)}(),function(){var c=b.ui,d=(c.Widget,b.ui.ListView),e=d.extend({options:{name:"DataTable",header:null,widths:[],cls:"flexbox",tableCls:""},init:function(b,c){var e=this;null==c.header&&(c.header=a(b).find(".tpl-header").html()),null==c.template&&(c.template=a(b).find(".tpl-row").html()),d.fn.init.call(e,b,c),this._bindEvents()},_bindEvents:function(){var b=this.element,c=this;b.on("click",".k-hierarchy-cell",function(b){var d=a(b.currentTarget),e=d.closest("tr");c.switchRow(e)})},switchRow:function(b){var c=b.next(".k-detail-row"),d=b.children("td").length,e="fn-collapse",f="fn-expand";0===c.length&&(c=a('<tr class="k-detail-row"><td colspan="'+d+'"></td></tr>'),c.insertAfter(b),this.trigger("detailInit",{detailCell:c.children("td"),data:b.data()})),b.hasClass(f)?(b.next(".k-detail-row").hide(),b.addClass(e).removeClass(f)):(b.next(".k-detail-row").show(),b.removeClass(e).addClass(f))},_element:function(){var b=this;if(d.fn._element.call(this),this.element.addClass("k-datatable").addClass(this.options.cls),this.options.header){var c=this.element,e='<div class="k-datatable-header k-data-inject"><table class="table no-margin"><colgroup></colgroup><thead></thead></table></div><div class="k-datatable-content grow k-data-inject"><table class="table no-margin"><colgroup></colgroup><tbody></tbody></table></div>';c.find(".k-data-inject").remove(),c.append(e),c.on("click",".sortable",function(c){var d=a(c.currentTarget),e=d.attr("data-prop"),f="asc";d.hasClass("asc")&&(f="desc"),b.dataSource.sort({field:e,dir:f}),d.closest("tr").find(".asc, .desc").removeClass("asc desc"),d.addClass(f)}),c.find("table").addClass(this.options.tableCls);var f=this.options.header.indexOf("<")>-1?this.options.header:a("#"+this.options.header).html();c.find(".k-datatable-header thead").html(f);var g=a(f).children("th").length;c.find(".k-datatable-header colgroup").html(this._colgroup(this.options.widths,g)),c.find(".k-datatable-content colgroup").html(this._colgroup(this.options.widths,g)),this.element=this.element.find(".k-datatable-content tbody")}},_colgroup:function(b,c){c||(c=b.length);for(var d="",e=0;e<c;e++){var f=a("<col />"),g=b&&b[e];null!=b&&0!==b.length||null!=g||(g=100/c+"%"),null!=g&&f.width(g),d+=f.prop("outerHTML")}return d},_templates:function(){d.fn._templates.call(this)}});b.ui.plugin(e)}(),function(){var c=b.ui,d=c.Widget,e=d.extend({options:{name:"File",label:"Browse"},init:function(a,b){var c=this;d.fn.init.call(c,a,b),c._wrapper(),c._bindEvents()},_wrapper:function(){var b=this,c=b.element,d=c[0],e='<div class="input-group"><label class="input-group-btn"><span class="btn btn-default fileinput-button">'+b.options.label+'&hellip;</span></label><input type="text" class="form-control" readonly></div>';b.wrapper=a(e).addClass("k-widget k-file").addClass(d.className),c.replaceWith(b.wrapper),b.wrapper.find(".btn").append(c)},_bindEvents:function(){var b=this;this.element.on("change",function(c){var d=a(c.target)[0].files,e=0===d.length?"":d[0].name;b.wrapper.find("input:text").val(e)})}});b.ui.plugin(e)}(),function(){var c=b.ui,d=(c.Widget,c.DataBoundWidget),e=b.ui.DataBoundWidget.extend({options:{name:"Flow",nodeTemplate:'<div class="#: cls #" id="#: domId #" data-id="#: id #" data-uid="#: uid #" style="top: #: top #px; left: #: left #px;"> <span class="wf-handle"> <i></i> #: index # </span><span class="wf-node_text"> #: text # </span> </div>',contextMenu:!1,editable:!1,draggable:!1,selectable:!1,onNodeClick:function(){},onConnection:function(b,c){var d=b.connection,e=a(b.target),f=c.findNodeData(c._getNodeId(e));f&&("done"!==f.state&&"progress"!==f.state||d.toggleType("done"),"pending"===f.state&&d.toggleType("pending"))},beginNodeId:"0",endNodeId:"-1",nodeIdPrefix:"wf_node_",nodeOptions:{cls:"wf-node",prefix:"wf_node_",startCls:"wf-node wf-node-start",endCls:"wf-node wf-node-end",activeCls:"wf-node-active",draggable:!0,isSource:!0,isTarget:!0,detach:!0,sourceOptions:{filter:".wf-handle, .wf-handle i"},targetOptions:{dropOptions:{hoverClass:"wf-node-hover"}}},instanceOptions:{Endpoint:"Blank",Connector:["Flowchart",{gap:2}],ConnectionOverlays:[["Arrow",{location:1,id:"arrow",length:14,foldback:.6}]],ConnectionsDetachable:!1,ReattachConnections:!1,Anchor:"Continuous",PaintStyle:{strokeStyle:"#ddd",lineWidth:3,dashstyle:"0",outlineWidth:4,outlineColor:"transparent"}}},init:function(a,b){d.fn.init.call(this,a,b),this.options.editable===!1&&(this.options.nodeOptions.isSource=!1,this.options.nodeOptions.isTarget=!1,this.options.nodeOptions.detach=!1),this.options.draggable!==this.options.nodeOptions.draggable&&(this.options.nodeOptions.draggable=this.options.draggable),this.options.nodeIdPrefix=_.uniqueId(this.options.nodeIdPrefix),this._value={nodes:[],connections:[],types:[]},this._lockUI=!1,this._template(),this._bindEvents(),this._initElements(),this._bindDOMEvents(),this._initToolbox(),this._initInstance(),this._bindInstanceEvents(),this._initContextMenu()},_template:function(){this._nodeTemplate=b.template(this.options.nodeTemplate)},_initElements:function(){this.element.addClass("k-wf"),this.$toolbox=a('<div class="wf-toolbox"></div>').appendTo(this.element),this.$container=a('<div class="wf-container"></div>').appendTo(this.element),this.options.editable&&this.element.addClass("editable")},_initToolbox:function(){var b=this;this.options.editable!==!1&&(this.$toolbox.kendoListView({template:'<div class="wf-node_type wf-node" data-type="#: type #">#: text #</div>',autoBind:!1}).kendoDraggable({filter:".wf-node_type",hint:function(a){return a.clone().css({opacity:.6,"background-color":"#0cf"})}}),this.$container.kendoDropTarget({drop:function(c){var d=a(c.target),e=d.offset(),f=b.$container.offset(),g=e.left-f.left,h=e.top-f.top,i=d.data("type"),j=b.findTypeData(i);b.addNodeData(a.extend({},j,{id:Date.now().toString(),index:b._getMaxIndex()+1,top:h,left:g}))}}))},_setToolboxData:function(a){var c=b.widgetInstance(this.$toolbox);null!=c&&(c.setDataSource(a),c.dataSource.fetch())},_initInstance:function(){var a=this.options.instanceOptions;return this.options.nodeOptions.detach&&(a.HoverPaintStyle={strokeStyle:"#B2C0D1",lineWidth:3,dashstyle:"4 1"}),this.instance=jsPlumb.getInstance(a),this._registerConnectionType(),this.instance},_registerConnectionType:function(){var a=this.instance,b={paintStyle:{strokeStyle:"#ee8c0c"}},c={paintStyle:{strokeStyle:"#efefef"}};a.registerConnectionType("done",b),a.registerConnectionType("pending",c)},_isConnectToSelf:function(a){return a.sourceId===a.targetId},_isFromStartToEnd:function(a){return a.sourceId===this._getNodeDomId(this.options.beginNodeId)&&a.targetId===this._getNodeDomId(this.options.endNodeId)},_stepIsRepeat:function(a){var b=this.instance,c=b.getConnections(a.scope);if(c.length>0)for(var d=0,e=c.length;d<e;d++)if(a.sourceId===c[d].sourceId&&a.targetId===c[d].targetId)return!0;return!1},_bindInstanceEvents:function(){var a=this.options.onConnection,b=this,c=this.instance;c.bind("beforeDrop",function(a){return!b._isConnectToSelf(a)&&(!b._stepIsRepeat(a)&&(!b._isFromStartToEnd(a)&&(b._lockUIExec(function(){b.addConnectionData({source:b._getNodeIdFromDomId(a.sourceId),target:b._getNodeIdFromDomId(a.targetId)})}),!0)))}),c.bind("connection",function(c){a.call(this,c,b)}),c.bind("connectionDetached",function(a){}),this.options.nodeOptions.detach&&c.bind("click",function(a){b.removeConnectionDataByDomId(a.sourceId,a.targetId)})},_bindEvents:function(){var a=this;this.bind("change",function(b){a.refresh()})},_bindModelEvents:function(){var a=this.value(),b=this;a.connections.bind("change",function(a){if(!b._lockUI)return"remove"===a.action?void _.each(a.items,function(a){b._removeConnection(a.source,a.target)}):"add"===a.action?void _.each(a.items,function(a){b._addConnection(a)}):"itemchange"===a.action?void _.each(a.items,function(a){b._addConnection(a)}):void b.refresh()}),a.nodes.bind("change",function(a){if(!b._lockUI)return"remove"===a.action?void _.each(a.items,function(a){var c=b.$container.find('[data-id="'+a.id+'"]');b._removeNode(c)}):"add"===a.action?void _.each(a.items,function(a){b._addNode(a)}):void b.refresh()})},_bindDOMEvents:function(){var b=this.options,c=this.options.nodeOptions.cls,d=this.options.nodeOptions.activeCls,e=this.$container,f=".wf-node:not(.wf-node-start,.wf-node-end)",g=this;e.on("click",f,a.proxy(b.onNodeClick,this)),b.selectable&&e.on("click",f,function(b){console.log("click!!");var f=a(b.currentTarget),h=f.attr("data-id");a.each(e.find("."+c),function(b,c){g._isStartOrEndNode(a(c))||(a(c).attr("data-id")===h?a(c).addClass(d):a(c).removeClass(d))})})},_initContextMenu:function(){var b=this,c=this.options.contextMenu;c&&this.$container.contextmenu({target:c,before:function(b,c,d){var e=a(b.target).closest(".wf-node");if(e.hasClass("wf-node-end")||e.hasClass("wf-node-start"))return!1;var f=this.getMenu();return b.preventDefault(),e.length>0?(e.addClass("contextmenuhost"),f.html(a("#tpl-node-menu").html())):f.html(a("#tpl-canvas-menu").html()),!0},onItem:function(c,d){var e=c.find(".contextmenuhost").removeClass("contextmenuhost"),f=a(d.currentTarget).find("[data-action]").attr("data-action"),g="_"+f+"Handler";b[g]&&b[g](d,e)}})},_isStartOrEndNode:function(a){var b=this.options.nodeOptions;return a.hasClass(b.startCls)||a.hasClass(b.endCls)},_createNodeEl:function(b){return a(this._nodeTemplate(b))},_getMaxIndex:function(){var b=0,c=this._value.nodes;return a.each(c,function(a,c){b=Math.max(b,c.index)}),b},_lockUIExec:function(a){this._lockUI=!0,a.call(this),this._lockUI=!1},_getNodeDomId:function(a){return this.options.nodeIdPrefix+a},_preprocessNodeData:function(b){var c=this.options.nodeOptions;return b=a.extend({},c,b),b.state||(b.state="none"),b.cls||(b.cls=""),b.domId||(b.domId=this._getNodeDomId(b.id)),null==b.index&&(b.index=this._getMaxIndex()+1),null==b.text&&(b.text=""),0===b.index&&(b.cls+=" "+b.startCls),b.index===-1&&(b.cls+=" "+b.endCls),b.state&&(b.cls+=" "+b.state),b},_updateNode:function(a,b){b=this._preprocessNodeData(b);var c=this._createNodeEl(b);a.replaceWith(c),this._attachNodeBehavior(c,b)},_addNode:function(a){a=this._preprocessNodeData(a);var b=this._createNodeEl(a);return b.appendTo(this.$container),this._attachNodeBehavior(b,a),b},_attachNodeBehavior:function(b,c){var d=this,e=this.instance;if(c.draggable!==!1){e.draggable(b,{containment:"parent",stop:function(b){var c=d._getNodeId(a(b.el)),e=d.findNodeData(c);d._lockUIExec(function(){e.set("top",b.pos[1]),e.set("left",b.pos[0])})}})}c.isSource!==!1&&e.makeSource(b,c.sourceOptions),c.isTarget!==!1&&e.makeTarget(b,c.targetOptions)},_addConnection:function(b){var c=this.instance;b=a.extend({},b);var d=this.findConnection(b.source,b.target);d&&this.instance.detach(d),b.source=this._getNodeDomId(b.source),b.target=this._getNodeDomId(b.target),b.overlays=[],b.text&&b.overlays.push(["Label",{location:.2,id:"label",cssClass:"wf-connection_label",label:b.text}]),c.connect(b)},_addNodes:function(b){var c=this;a.each(b,function(a,b){c._addNode(b)})},_addConnections:function(b){var c=this;a.each(b,function(a,b){c._addConnection(b)})},getNodes:function(){return this.value().nodes},getConnections:function(){return this.value().connections},findNodeData:function(a){var b=this.getNodes();return _.find(b,function(b){return b.id===a})},findConnection:function(a,b){var c=this._getNodeDomId(a),d=this._getNodeDomId(b),e=this.instance.getConnections();return _.find(e,function(a){return a.sourceId===c&&a.targetId===d})},findConnectionsData:function(a){var b=this.getConnections();return b.filter(function(b){return b.source===a||b.target===a})},findConnectionData:function(a,b){var c=this.getConnections();return c.find(function(c){return c.source===a&&c.target===b})},findTypeData:function(a){var b=this.value().types;return b.find(function(b){return b.type===a})},addConnectionData:function(a){var b=this.value().connections;b.push(a)},_removeConnection:function(a,b){var c=this,d=c.findConnection(a,b);c.instance.detach(d)},removeConnectionDataByDomId:function(a,b){var c=this._getNodeIdFromDomId(a),d=this._getNodeIdFromDomId(b);this.removeConnectionData(c,d)},removeConnectionData:function(a,b){var c=this.getConnections(),d=this.findConnectionData(a,b);d.delectable!==!1&&c.remove(d)},removeNodeData:function(a){var b=this.value(),c=this.getNodes(),d=_.findIndex(c,function(b){return b.id===a});c.splice(d,1),b.nodes=c,this.value(b,!0)},addNodeData:function(a){this.value().nodes.push(a)},_removeNode:function(b){var c=this._getNodeId(b),d=this.getConnections(),e=this.findConnectionsData(c);a.each(e,function(a,b){d.remove(b)}),b&&this.instance.remove(b)},_addNodeHandler:function(b){var c=this.$container.offset(),d=a(b.currentTarget).offset();this.addNode({top:d.top-c.top,left:d.left-c.left})},_deleteNodeHandler:function(a,b){window.confirm("确认删除该步骤？")&&this.removeNode(b)},value:function(a){var b=this._value;return void 0!==a&&b!==a&&(this._value=a,this._bindModelEvents(),this.trigger("change")),this._value},refresh:function(){if(this._lockUI!==!0){var a=this,b=this.value();null!=b&&(this.empty(),this._setToolboxData(b.types),this.instance.batch(function(){a._addNodes(b.nodes),a._addConnections(b.connections)}))}},select:function(b){if(null==b){var c=a(this.element).find(".wf-node-active"),d=this._getNodeId(c);return this.findNodeData(d)}this.element.find(".wf-node-active").removeClass("wf-node-active"),b.addClass("wf-node-active")},_getNodeId:function(a){var b=a.attr("data-id");if(null!=b)return b},_getNodeIdFromDomId:function(a){return a.replace(this.options.nodeIdPrefix,"")},save:function(){var a=this.value();this.value(a,!0)},empty:function(){this._lockUIExec(function(){this.instance.empty(this.$container)})},destroy:function(){}});b.ui.plugin(e)}(),function(){var b='<div class="modal fade v-modal-confirm" id="v-modal-confirm" tabindex="-1">    <div class="modal-dialog modal-sm" role="document">        <div class="modal-content v-confirm-content">            <div class="modal-body v-confirm-body">                <span class="glyphicon glyphicon-question-sign v-confirm-icon"></span>                <span class="v-confirm-msg"></span>            </div>            <div class="modal-footer v-confirm-footer">                <button type="button" class="btn btn-default btn-sm" data-dismiss="modal">取 消</button>                <button type="button" class="btn btn-primary btn-sm js-ok" data-dismiss="modal">确 认</button>            </div>        </div>    </div></div>',c="#v-modal-confirm",d=".v-modal-confirm";a.modalConfirm=function(e){var f=a.Deferred(),g=a(c);0===g.length&&a(b).appendTo(a("body")),g=a(c);var h=g.data("bs.modal");null!=h&&g.off(d);var i=!1;return g.on("click"+d,".js-ok",function(a){i=!0}),g.on("hidden.bs.modal"+d,function(a){i===!0?f.resolve():f.reject()}),null!=e&&g.find(".v-confirm-msg").html(e),g.modal(),f.promise()}}(),function(){var b={};b.randomString=function(){return Math.random().toString(36).substring(7)},b.isFalsy=function(a){return null==a||0==a},a.fn.dynamicTab=function(){var c=this,d=this.find(".nav[data-dynamic-tab]"),e=c.find("[data-tab-toggle]");d.each(function(d,f){var g=a(f),h=g.attr("data-dynamic-tab"),i=c.find(".tab-content[data-dynamic-tab="+h+"]"),j=e.filter("[data-for="+h+"]"),k=g.find("[data-toggle=tab]"),l=i.find(".tab-pane");k.on("shown.ver.tab",function(b){var c=a(b.target).closest(".nav-item").index(),d=j.filter("[data-tab-toggle=prev]"),e=j.filter("[data-tab-toggle=next]");d.prop("diabled",!1),e.prop("diabled",!1),0===c&&d.prop("disabled",!0),c===k.length-1&&e.prop("disabled",!0)}),k.each(function(c,d){var e=b.randomString(),f=a(l.get(c)),g=a(d);g.attr("href","#"+e),f.attr("id",e);var h=f.find("[data-validate-form]"),i=h.data("validate-form");b.isFalsy(i)&&h.attr("data-validate-form",e);var j=g.find(".form-invalid-tag"),k=j.data("for");b.isFalsy(k)&&j.attr("data-for",e)})}),e.on("click.ver.tab.data-api",function(b){var c=a(this),d=c.data("tab-toggle"),e=c.data("for"),f=a('[data-dynamic-tab="'+e+'"]');f.find(".active")[d]().find("[data-toggle=tab]").tab("show")})}}(),function(){function b(b,f){this.element=b,this.minimized=a(this.element).hasClass(e),this.settings=a.extend({},d,f),this._defaults=d,this._name=c,this.toggleIcons=["fa-angle-double-left","fa-angle-double-right"],this.submenuCls=".menu-submenu",this.init()}var c="submenu",d={},e="menu-vertical-min";a.extend(b.prototype,{init:function(){var b=a(this.element).find(".menu-nav"),c=a(this.element).find(".menu-toggle"),d=this;a.each(b.find("li"),function(b,c){var e=a(c),f=e.children(d.submenuCls),g=e.children(".dropdown-toggle");f.length>0&&0===g.children(".menu-child_indicator").length&&g.append('<b class="menu-child_indicator fa"></b>')}),b.on("click","a",function(b){b.preventDefault();var c=a(b.currentTarget),e=c.parent();if(0===e.children(".menu-submenu").length&&d.active(e),c.hasClass("dropdown-toggle")){if(d.minimized||e.hasClass("hover"))return;d.toggleDisplay(e)}}),c.on("click",function(b){b.preventDefault(),d.minimized?(a(d.element).removeClass(e),c.children().removeClass(d.toggleIcons[1]).addClass(d.toggleIcons[0])):(a(d.element).addClass(e),c.children().removeClass(d.toggleIcons[0]).addClass(d.toggleIcons[1])),d.minimized=!d.minimized})},toggleDisplay:function(a){a.hasClass("open")?this._toggleSubmenu(a,"hide"):(this._toggleSubmenu(a,"show"),this._toggleSubmenu(a.siblings(".open"),"hide"))},_toggleSubmenu:function(a,b,c){var d="slideDown",e="addClass";return c||(c=function(){}),"hide"===b&&(d="slideUp",e="removeClass"),a.children(this.submenuCls)[d]("fast",function(){a[e]("open"),c()}),this},active:function(b){a(this.element).find(".active").removeClass("active"),a(b).addClass("active").parentsUntil(this.element,"li").addClass("active")}}),a.fn[c]=function(d){return this.each(function(){var e=a(this),f=e.data("plugin_"+c);f||e.data("plugin_"+c,f=new b(this,d)),"string"==typeof d&&f[d]()})}}(),function(){var a=b.ui,c=(a.Widget,a.DataBoundWidget),d=b.ui.DataBoundWidget.extend({options:{name:"Signature",resetLabel:"重写",doneLabel:"完成",dataFormat:"image"},init:function(a,b){c.fn.init.call(this,a,b),this._element(),this.instance()},_element:function(){this.element.append('<div class="signature-canvas"></div><div class="btn-toolbar"><button class="btn btn-default js-reset">'+this.options.resetLabel+'</button><button class="btn btn-primary js-done">'+this.options.doneLabel+"</button></div>"),this.$canvas=this.element.find(".signature-canvas"),this._bindEvents()},_bindEvents:function(){var a=this;this.element.find(".js-reset").on("click",function(b){a.instance("reset")}),this.element.find(".js-done").on("click",function(b){a.trigger("change")})},instance:function(){return this.$canvas.jSignature.apply(this.$canvas,arguments)},value:function(a){return void 0===a?this.instance("getData",this.options.dataFormat):void(""!==a&&(a.join&&a.length&&(a="data:"+a.join(",")),this.instance("setData",a)))}});b.ui.plugin(d)}(),function(){var c=b.ui,d=(c.Widget,b.ui.ListView),e="change",f="k-tree-root",g="k-tree-switcher",h="k-tree-subtree",i=b.ui.Selectable,j=i.extend({_tap:function(a){a.event.stopPropagation(),i.fn._tap.call(this,a)},_start:function(a){},_move:function(a){},_end:function(a){}}),k=d.extend({options:{name:"Tree",focusSelector:".k-tree-item > .k-tree-inner",isSubtree:!1,dataTextField:"text"},init:function(b,c){var e=this;c.template=c.template||a(b).find(".tpl-template").html()||this._defaultTemplate(c);var g=a(b).addClass("k-tree").find("."+f);0===g.length&&(g=a(b)),d.fn.init.call(e,g,c),this.options.isSubtree||this._bindEvents()},_defaultTemplate:function(a){return'<div class="k-tree-item"><div class="k-tree-inner"># for(var i = 0, len = level(); i < len; i++){ #<span class="k-tree-indent"></span># } ## if(hasChildren){ #<a class="k-tree-switcher"></a># } else{ #<span class="k-tree-switcher-noop"></span># } #<span class="k-tree-text">#: '+a.dataTextField+' #</span></div># if(hasChildren){ #<div class="k-tree-subtree"></div># } #</div>'},_initRoot:function(){},_bindEvents:function(){var b=this.element,c=this;b.on("click","."+g,function(b){var d=(a(b.target),a(b.target).closest("[data-uid]"));if(d.hasClass("open"))d.removeClass("open");else{d.addClass("open");var e=c._getNode(d);c._initSubtree(e,d.find("."+h))}}),this.dataSource.bind("change",function(a,b){})},expand:function(){},collapse:function(){},_element:function(){d.fn._element.call(this)},_getNode:function(a){var c=b.widgetInstance(a.closest(".k-listview")).dataSource,d=c.getByUid(a.data("uid"));return d},_selectable:function(){var a,b=this,c=b.options.selectable;c&&(a=i.parseOptions(c).multiple,b.selectable=new j(b.element,{aria:!0,multiple:a,filter:this.options.focusSelector,change:function(a){b.trigger(e)}}))},_initSubtree:function(c,d){if(!b.widgetInstance(d)){var e=a.extend({},this.options,{dataSource:c.children,autoBind:!0,template:this.options.template,selectable:!1,isSubtree:!0});d.kendoTree(e)}},_templates:function(a){d.fn._templates.call(this)},refresh:function(a){"itemloaded"!==a.action&&d.fn.refresh.call(this,a)},select:function(a){return d.fn.select.call(this,a)}});b.ui.plugin(k)}(),function(){function c(b){function c(b){var c=a(b.target||b.srcElement);c.siblings(".k-dropdown-wrap").add(c.parent(".k-numeric-wrap, .k-multiselect, .k-picker-wrap, .k-autocomplete, .k-slider-wrap")).toggleClass("k-invalid",c.hasClass("k-invalid"))}var d="MutationEvent"in window,e=window.WebKitMutationObserver||window.MutationObserver;if(e){var f=new e(function(a){for(var b,d=0,e=a.length;d<e;d++)b=a[d],"class"===b.attributeName&&c(b)}),g={attributes:!0,childList:!1,characterData:!1};b.each(function(){f.observe(this,g)})}else d?b.bind("DOMAttrModified",c):b.each(function(){this.attachEvent("onpropertychange",c)})}var d=b.ui,e=(d.Widget,b.ui.Validator),f=e.extend({options:{name:"Validator2",errorTemplate:'<div class="k-widget k-tooltip k-tooltip-validation"><span class="k-icon k-i-warning"> </span>#=message#<div class="k-callout k-callout-n"></div></div>'},init:function(b,d){var f=a(b).find("[data-role=autocomplete],[data-role=combobox],[data-role=dropdownlist],[data-role=numerictextbox],[data-role=datepicker],[data-role=timepicker],[data-role=datetimepicker],[data-role=multiselect], [data-role=slider]");c(f),e.fn.init.call(this,b,d)}});b.ui.plugin(f)}()},"function"==typeof define&&define.amd?define:function(a,b){b(jQuery,window.kendo)});
//# sourceMappingURL=keboacy.min.js.map